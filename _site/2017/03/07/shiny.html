<!DOCTYPE html>
<html class="no-js">
  <head>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Getting Started with Shiny</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

<!-- CSS -->
<link rel="stylesheet" href="/css/owl.carousel.css" />
<link rel="stylesheet" href="/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/font-awesome.min.css" />
<link rel="stylesheet" href="/css/airspace.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/ionicons.min.css" />
<link rel="stylesheet" href="/css/animate.css" />
<link rel="stylesheet" href="/css/responsive.css" />
<link rel="stylesheet" href="/css/syntax.css" />

<!-- Js -->
<script src="/js/vendor/modernizr-2.6.2.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/plugins.js"></script>
<script src="/js/min/waypoints.min.js"></script>
<script src="/js/jquery.counterup.js"></script>

<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script src="/js/google-map-init.js"></script>


<script src="/js/main.js"></script>


  </head>
  <body>


    <!-- Header Start -->
<header>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <!-- header Nav Start -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://jade.github.io/">
              <img src="/img/jade-logo.png" alt="Logo">
            </a>
          </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="/">Home</a></li>
               <!-- <li><a href="/tutorials">Tutorials</a></li>
                <li><a href="http://localhost:4000//blog">Blog</a></li>-->
                <li><a href="http://localhost:4000//consortium">Consortium</a></li>
                <li><a href="http://localhost:4000//access">Access</a></li>
                <li><a href="http://localhost:4000//news">News and Events</a></li>
                <li><a href="http://localhost:4000//support">Support</a></li>
                <li><a href="http://localhost:4000//links">Useful links</a></li>
                <!--<li><a href="/contact">Contact</a></li>-->
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
    </div>
  </div>
</header><!-- header close -->



    <div class="post">
  <!-- Wrapper Start -->
  <section id="intro" style="border: 1px dotted #ddd;">
    <div class="container">
      <div class="row">
        <div>
          <div class="block">
            <h1>Getting Started with Shiny</h1>
            <div class="post-info-wrapper">
              <p class="italic">By <span class="bold">John</span> on <span class="bold">March 7, 2017</span></p>
            </div>
            <hr />
            <p><div class="block">
  <center>
  <img src="/img/tutheader_shiny.jpg" alt="Img" />
</center>
</div>

<h3 id="tutorial-aims">Tutorial aims:</h3>

<h4 id="1-downloading-shiny"><a href="#download">1. Downloading Shiny</a></h4>

<h4 id="2-getting-familiar-with-the-shiny-app-file-structure"><a href="#structure">2. Getting familiar with the Shiny app file structure</a></h4>

<h4 id="3-getting-familiar-with-the-shiny-appr-layout"><a href="#layout">3. Getting familiar with the Shiny app.R layout</a></h4>

<h4 id="4-creating-a-shiny-app"><a href="#create">4. Creating a Shiny app</a></h4>

<h4 id="5-exporting-a-finished-app"><a href="#export">5. Exporting a finished app</a></h4>

<h4 id="6-challenge-yourself-to-write-an-app"><a href="#challenge">6. Challenge yourself to write an app</a></h4>

<hr />

<p>At it’s core, Shiny is merely an R package like <code class="highlighter-rouge">dplyr</code> or <code class="highlighter-rouge">ggplot2</code>. The package is used to create web-applications, but uses the R language rather than javascript or HTML5 which are traditionally used for web applications. By using R, Shiny provides an efficient method of creating web applications designed around data presentation and analysis.</p>

<p>Below is an example of the basic Shiny app that we will be recreating in today’s tutorial:</p>

<iframe src="https://johngodlee.shinyapps.io/barley_yield_exploration/" style="border:none;width:1000px;height:550px;"></iframe>

<p>Have a look at these extra examples if you want to see what other Shiny apps can looks like, or if you want inspiration for your own app:</p>

<h4 id="--a-gallery-of-basic-shiny-apps">- <a href="http://shiny.rstudio.com/gallery/" target="_blank">A gallery of basic Shiny apps</a></h4>
<h4 id="--visualising-study-sites">- <a href="https://gndaskalova.github.io/shrubhub-map/trialmap.html" target="_blank">Visualising study sites</a></h4>
<h4 id="--a-complex-app-visualising-carbon-emissions-in-realtime">- <a href="https://johngodlee.shinyapps.io/carbon_emissions/" target="_blank">A complex app visualising carbon emissions in realtime</a></h4>

<h3 id="what-are-shiny-apps-useful-for">What are Shiny Apps useful for?</h3>

<h4 id="--interactive-data-visualisation-for-presentations-and-websites">- <strong>Interactive data visualisation for presentations and websites</strong></h4>
<h4 id="--sharing-results-with-collaborators">- <strong>Sharing results with collaborators</strong></h4>
<h4 id="--communicating-science-in-an-accessible-way">- <strong>Communicating science in an accessible way</strong></h4>
<h4 id="--bridging-the-gap-between-r-users-and-non-r-users">- <strong>Bridging the gap between R users and non-R users</strong></h4>

<p><a name="download"></a></p>

<h3 id="downloading-shiny-and-tutorial-resources">Downloading Shiny and tutorial resources</h3>

<p>To get Shiny in RStudio the first thing you need is the <code class="highlighter-rouge">shiny</code> package, by running the code below in RStudio:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">install.packages</span><span class="p">(</span><span class="s2">"shiny"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"rsconnect"</span><span class="p">)</span><span class="w">  </span><span class="c1"># For publishing apps online
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"agridat"</span><span class="p">)</span><span class="w">  </span><span class="c1"># For the dataset in today's tutorial
</span></code></pre>
</div>

<p>You can download the resources for this tutorial by heading to <a href="https://github.com/ourcodingclub/CC-11-Shiny" target="_blank">the repository for this tutorial</a>. You can click on <code class="highlighter-rouge">Clone / Download</code> and either download the zip file and extract the files, or fork the repository to your own Github account. <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank">See our Git and Github tutorial for more info.</a></p>

<p><a name="structure"></a></p>

<h2 id="the-shiny-app-file-structure">The Shiny app file structure</h2>

<p>Next, select <em>File/ New File/ Shiny Web App…</em>, give the application a descriptive name (<strong>no spaces</strong>) and change the application type to “<em>Single File (app.R)</em>”, save the app in an appropriate directory and click <em>Create</em>.</p>

<p>RStudio generates a template R script called <code class="highlighter-rouge">app.R</code>. <strong>Delete all the code in the template so you have a blank script.</strong></p>

<p>Notice that the name you gave to your app was assigned to the directory, not the app script file. For your app to work, the file must remain named <code class="highlighter-rouge">app.R</code>!</p>

<p>It is possible to create a Shiny app with two files called <code class="highlighter-rouge">ui.R</code> and <code class="highlighter-rouge">server.R</code>, but the same can be accomplished by using one file. In the past, Shiny apps had to be created using two files, but the Shiny package has since been updated to allow the single file app structure, making things much tidier. You will see some tutorials on the internet using the old two file structure but these can be easily translated to the one file structure. This tutorial will assume you have the one file app structure.</p>

<p>Now we can set up the rest of the folders for your app. Add a folder called <code class="highlighter-rouge">Data</code> and a folder called <code class="highlighter-rouge">www</code> in your app directory. <code class="highlighter-rouge">Data</code> will hold any data used by the app and <code class="highlighter-rouge">www</code> will hold any images, and other web elements.</p>

<p>To review, a Shiny application should have this specific folder structure to work properly:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Test_App
├── app.R
├── Data
│   └── data.csv
└── www
    └── A.jpg
</code></pre>
</div>

<p><a name="layout"></a></p>

<h2 id="appr-layout">app.R layout</h2>

<p>Now that the folder structure is set up, head back to RStudio to start building <code class="highlighter-rouge">app.R</code>. A basic <code class="highlighter-rouge">app.R</code> consists of these five parts:</p>

<ul>
  <li>A section at the top of the script, loading any packages needed for the app to run, <code class="highlighter-rouge">shiny</code> is required at the very least but others like <code class="highlighter-rouge">dplyr</code> or <code class="highlighter-rouge">ggplot2</code> could be added as they are needed:</li>
</ul>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Packages ----
</span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app
</span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data
</span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from
</span></code></pre>
</div>

<ul>
  <li>A section loading any data needed by the app:</li>
</ul>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Loading data ----
</span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<ul>
  <li>
    <p>An object called <code class="highlighter-rouge">ui</code> which contains information about the layout of the app as it appears in your web browser. <code class="highlighter-rouge">fluidPage()</code> defines a layout that will resize according to the size of the browser window, all the app code will be placed within the brackets.</p>

    <div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># ui.R ----
</span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">()</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>An object called <code class="highlighter-rouge">server</code> which contains information about the computation of the app, creating plots, tables, maps etc. using information provided by the user. All the app code will be placed within the curly brackets.</p>

    <div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># server.R ----
</span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>A command to run the app, this should be included at the very end of <code class="highlighter-rouge">app.R</code>. It tells shiny that the user interface comes from the object called <code class="highlighter-rouge">ui</code> and that the server information (data, plots, tables, etc.) comes from the object called <code class="highlighter-rouge">server</code>.</p>

    <div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Run the app ----
</span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
</ul>

<p><strong>Delete any example code generated automatically when you created <code class="highlighter-rouge">app.R</code>, and create a basic Shiny app by copying the snippets of code above into your <code class="highlighter-rouge">app.R</code>. Your script should now look like this:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="w"> </span><span class="c1"># Packages ----
</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app
</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots
</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data
</span><span class="w"> </span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from
</span><span class="w">
 </span><span class="c1"># Loading data ----
</span><span class="w"> </span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">

 </span><span class="c1"># ui.R ----
</span><span class="w"> </span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">()</span><span class="w">

 </span><span class="c1"># server.R ----
</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">

 </span><span class="c1"># Run the app ----
</span><span class="w"> </span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<h3 id="layout-of-a-shiny-app">Layout of a Shiny App</h3>

<p>Shiny apps are structured using panels, which are laid out in different arrangements. Panels can contain text, widgets, plots, tables, maps, images, etc.</p>

<p><a href="https://shiny.rstudio.com/articles/layout-guide.html" target="_blank">Here is a good set of examples on how the panel layout can be changed</a>. The most basic layout uses <code class="highlighter-rouge">fluidRow()</code> and <code class="highlighter-rouge">column()</code> to manually create grids of a given size. <code class="highlighter-rouge">fluidRow()</code> allows a lot of customisation, but is more fiddly. In this tutorial we will be using <code class="highlighter-rouge">sidebarLayout()</code>, which creates a large panel and a smaller inset side panel.</p>

<p><a name="create"></a></p>

<h2 id="creating-a-shiny-app---basic-syntax">Creating a Shiny App - Basic Syntax</h2>

<p>To illustrate how to code a Shiny app, we will emulate a simple app that I wrote to explore some data on the productivity of Barley genotypes.</p>

<h4 id="open-up-the-finished-web-app-and-have-a-look-at-it"><a href="https://johngodlee.shinyapps.io/barley_yield_exploration/" target="_blank">Open up the finished web app and have a look at it</a></h4>

<p>You can get the code for this app by opening <code class="highlighter-rouge">app.R</code> in the <code class="highlighter-rouge">Example_app</code> folder in the tutorial repository which you downloaded earlier.</p>

<p>Looking at the app and comparing to the panel layout examples in the above link we can see that the app has a <code class="highlighter-rouge">sidebarLayout</code> with a <code class="highlighter-rouge">sidebarPanel</code>, <code class="highlighter-rouge">mainPanel</code> and <code class="highlighter-rouge">titlePanel</code>. It uses a <code class="highlighter-rouge">selectInput</code> to choose the genotype of barley shown in the histogram and the table, another <code class="highlighter-rouge">selectInput</code> for the colour of the histogram, a <code class="highlighter-rouge">sliderInput</code> to choose the number of bins in the histogram, and a <code class="highlighter-rouge">textInput</code> to display some text in the app. The histogram is located in the <code class="highlighter-rouge">mainPanel</code> along with a summary table of the data being shown, while the inputs are in the <code class="highlighter-rouge">sidebarPanel</code>.</p>

<p><strong>Go back to your <code class="highlighter-rouge">app.R</code> and fill in the code you already have with the new bits of code below, which will serve as the basic skeleton for our app. Remember that you should only have one <code class="highlighter-rouge">ui</code> and one <code class="highlighter-rouge">server</code> object. Don’t just copy and paste the below:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Packages ----
</span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app
</span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data
</span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from
</span><span class="w">
</span><span class="c1"># Loading data ----
</span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">

</span><span class="c1"># ui.R ----
</span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
  </span><span class="n">titlePanel</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="w">  </span><span class="c1"># Add a title panel
</span><span class="w">  </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">  </span><span class="c1"># Make the layout a sidebarLayout
</span><span class="w">    </span><span class="n">sidebarPanel</span><span class="p">(),</span><span class="w">  </span><span class="c1"># Inside the sidebarLayout, add a sidebarPanel
</span><span class="w">    </span><span class="n">mainPanel</span><span class="p">()</span><span class="w">  </span><span class="c1"># Inside the sidebarLayout, add a mainPanel
</span><span class="w">  </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1"># server.R ----
</span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">

</span><span class="c1"># Run the app ----
</span><span class="n">runApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><code class="highlighter-rouge">titlePanel()</code> indicates that we would like a separate panel at the top of the page in which we can put the title.</p>

<p><code class="highlighter-rouge">sidebarLayout()</code> indicates that we want our Shiny app to have the sidebar layout, one of many layouts we saw above. Within <code class="highlighter-rouge">sidebarLayout</code> we have:</p>

<p><code class="highlighter-rouge">sidebarPanel()</code> indicates that we want a sidebar panel included in our app. Sidebar panels often contain input widgets like sliders, text input boxes, radio buttons etc.</p>

<p><code class="highlighter-rouge">mainPanel()</code> indicates that we want a larger main panel. Main panels often contain the output of the app, whether it is a table, map, plot or something else.</p>

<h3 id="input-widgets">Input widgets</h3>

<p>Now that we have our basic structure we can start to fill it with inputs and outputs.</p>

<p>The example app has four input widgets, a <code class="highlighter-rouge">selectInput</code> for genotype, a <code class="highlighter-rouge">selectInput</code> for histogram colour, a <code class="highlighter-rouge">sliderInput</code> for number of bins, and a <code class="highlighter-rouge">textInput</code> to add some  arbitrary text. Each of these widgets provides information on how to display the histogram and its accompanying table. In the example app, all the widgets are found in the <code class="highlighter-rouge">sidebarPanel</code> so the code for these widgets should be put in the <code class="highlighter-rouge">sidebarPanel</code> command like this:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
  </span><span class="n">titlePanel</span><span class="p">(</span><span class="s2">"Barley Yield"</span><span class="p">),</span><span class="w">
  </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">
     </span><span class="n">sidebarPanel</span><span class="p">(</span><span class="w">
                   </span><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gen"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Give the input a name "genotype"
</span><span class="w">                      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1. Select genotype"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Give the input a label to be displayed in the app
</span><span class="w">                      </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"B"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"C"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="s2">"D"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="s2">"E"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="s2">"F"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="s2">"G"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"g"</span><span class="p">,</span><span class="s2">"H"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"h"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">),</span><span class="w">  </span><span class="c1"># Create the choices that can be selected. e.g. Display "A" and link to value "a"
</span><span class="w">                   </span><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"colour"</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2. Select histogram colour"</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="s2">"green"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"purple"</span><span class="p">,</span><span class="s2">"grey"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">),</span><span class="w">
                   </span><span class="n">sliderInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bin"</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"3. Select number of histogram bins"</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">min</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">)),</span><span class="w">
                   </span><span class="n">textInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"4. Enter some text to be displayed"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w">
                   </span><span class="p">),</span><span class="w">
      </span><span class="n">mainPanel</span><span class="p">()</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Note that <code class="highlighter-rouge">choices = c("A" = "a" ...</code> could be replaced with <code class="highlighter-rouge">choices = unique(Barley$gen)</code> to simply use the groups directly from the dataset.</p>

<p><strong>Spend a couple of minutes looking at this code so you understand what it means, then fill in your own <code class="highlighter-rouge">app.R</code> with the code.</strong></p>

<p>Let’s break down <code class="highlighter-rouge">selectInput()</code> to understand what is going on:</p>

<h4 id="--inputid--genotype-gives-this-input-the-name-genotype-which-will-become-useful-when-referencing-this-input-later-in-the-app-script">- <code class="highlighter-rouge">inputId = "genotype"</code> gives this input the name <code class="highlighter-rouge">genotype</code> which will become useful when referencing this input later in the app script.</h4>
<h4 id="--label--1-select-genotype-gives-this-input-a-label-to-be-displayed-above-it-in-the-app">- <code class="highlighter-rouge">label = "1\. Select genotype"</code> gives this input a label to be displayed above it in the app.</h4>
<h4 id="--choices--ca--ab--b--gives-a-list-of-choices-to-be-displayed-in-the-dropdown-menu-a-b-etc-and-the-value-that-is-actually-gathered-from-that-choice-for-use-in-the-output-a-b-etc">- <code class="highlighter-rouge">choices = c("A" = "a","B" = "b", ...</code> gives a list of choices to be displayed in the dropdown menu (<code class="highlighter-rouge">A, B, etc.</code>) and the value that is actually gathered from that choice for use in the output (<code class="highlighter-rouge">a, b, etc.</code>).</h4>
<h4 id="--selected--grey-gives-the-value-from-the-dropdown-menu-that-is-selected-by-default">- <code class="highlighter-rouge">selected = "grey"</code> gives the value from the dropdown menu that is selected by default.</h4>

<p>You can look into the arguments presented by the other input widgets by using the help function <code class="highlighter-rouge">?</code>, for example by running the code <code class="highlighter-rouge">?textInput</code> in the R console.</p>

<h4 id="more-input-widgets">More Input Widgets</h4>

<p>There are plenty of pre-made widgets in Shiny, here is a selection each with the minimum number of arguments needed when running the app, though many more can be added:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">actionButton</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"action"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Go!"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">radioButtons</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"radio"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Radio Buttons"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"select"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"select"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">sliderInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"slider"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"slider"</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Notice how all of the inputs require an <code class="highlighter-rouge">inputId</code> and a <code class="highlighter-rouge">label</code> argument.</p>

<h3 id="running-a-shiny-app">Running a Shiny App</h3>

<p>Take this opportunity to preview your app by clicking <em>Run App</em>:</p>

<p><img src="/img/Run_App_Screenshot.jpg" alt="Img" /></p>

<p>or use the keyboard shortcut <code class="highlighter-rouge">Cmd + Opt + R</code> (Mac), <code class="highlighter-rouge">Ctrl + Alt + R</code> (Windows).</p>

<p>When a Shiny app is running from RStudio, the console cannot be used. To stop the app, click the <em>Stop</em> button in the top right of the console window or press the <code class="highlighter-rouge">Esc</code> key.</p>

<p><img src="/img/Stop_Screenshot.jpg" alt="Img" /></p>

<h3 id="output">Output</h3>

<p>A Shiny app without any outputs is useless. Outputs can be in the form of plots, tables, maps, or text.</p>

<p>As per our example app, we’re going to be using <code class="highlighter-rouge">ggplot()</code> to create a histogram. For more information on creating plots in <code class="highlighter-rouge">ggplot2</code>, see our tutorials on <a href="https://ourcodingclub.github.io/2017/01/29/datavis.html" target="_blank">basic data visualisation</a> and <a href="https://ourcodingclub.github.io/2017/03/29/data-vis-2.html" target="_blank">customising ggplot graphs</a>.</p>

<p>Outputs are created by placing code in the curly brackets (<code class="highlighter-rouge"><span class="p">{}</span></code>) in the <code class="highlighter-rouge">server</code> object:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="c1"># Create object called `output$plot` with a ggplot inside it
</span><span class="w">  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">  </span><span class="c1"># Add a histogram to the plot
</span><span class="w">    </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Make the fill colour grey
</span><span class="w">    </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Barley</span><span class="p">,</span><span class="w">  </span><span class="c1"># Use data from `Barley`
</span><span class="w">    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">)</span><span class="w">  </span><span class="c1"># Outline the bins in black
</span><span class="w">  </span><span class="p">)</span><span class="w">                                                       
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Look at the code above for a couple of minutes to understand what is going on, then add it to your own <code class="highlighter-rouge">app.R</code> in the appropriate place.</strong></p>

<p>Basically, we are creating an object called <code class="highlighter-rouge">output$plot</code> and using <code class="highlighter-rouge">renderPlot()</code> to wrap a <code class="highlighter-rouge">ggplot()</code> command.</p>

<h3 id="reactive-output">Reactive output</h3>

<p>The histogram is great, but not particularly interactive. We need to link our input widgets to our output object.</p>

<p>We want to select individual genotypes to display in our histogram which the user can select using the <code class="highlighter-rouge">selectInput</code> that we called <code class="highlighter-rouge">genotype</code> earlier. Use some base R wizardry, <code class="highlighter-rouge">[]</code> <code class="highlighter-rouge">$</code> and <code class="highlighter-rouge">==</code>, to select the data we want. <strong>Update <code class="highlighter-rouge">server</code> with the new reactive output arguments so it looks like the code below</strong>:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">
      </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w">
      </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Barley</span><span class="p">[</span><span class="n">Barley</span><span class="o">$</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">,],</span><span class="w">
      </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">                                                       
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><code class="highlighter-rouge">data = Barley[Barley$Genotype == input$gen,]</code> tells <code class="highlighter-rouge">geom_histogram()</code> to only use data where the value in column <code class="highlighter-rouge">gen</code> is equal to (<code class="highlighter-rouge">==</code>) the value given by <code class="highlighter-rouge">input$gen</code>. Note the <code class="highlighter-rouge">,</code> after <code class="highlighter-rouge">input$gen</code> which indicates that we are selecting columns, and that all the rows should be selected.</p>

<p>Next, we want to be able to change the colour of the histogram based on the value of the <code class="highlighter-rouge">selectInput</code> called <code class="highlighter-rouge">colour</code>. To do this simply change fill = “grey” to <code class="highlighter-rouge">fill = input$colour</code>:</p>

<p>Next, we want to select the number of bins in the histogram using the <code class="highlighter-rouge">sliderInput</code> called <code class="highlighter-rouge">bin</code>. Simply change <code class="highlighter-rouge">bins = 7</code> to <code class="highlighter-rouge">bins = input$bin</code></p>

<p>Finally, to create a table output showing some summary statistics of the selected genotype, create a new output object called <code class="highlighter-rouge">output$table</code> and use <code class="highlighter-rouge">renderTable()</code> to create a table generated using dplyr <code class="highlighter-rouge">summarise()</code>. See our <a href="https://ourcodingclub.github.io/2017/01/16/piping.html#dplyr" target="_blank">tutorial on data manipulation</a> for more information on dplyr. <strong>Update server with the <code class="highlighter-rouge">output$table</code> information, so it looks like the code below</strong>:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  
  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">bin</span><span class="p">,</span><span class="w">
               </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">colour</span><span class="p">,</span><span class="w">
               </span><span class="n">data</span><span class="o">=</span><span class="n">Barley</span><span class="p">[</span><span class="n">Barley</span><span class="o">$</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">,]))</span><span class="w">
  
  </span><span class="n">output</span><span class="o">$</span><span class="n">table</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderTable</span><span class="p">(</span><span class="n">Barley</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">  </span><span class="c1"># Use the Barley data frame in a table
</span><span class="w">  	</span><span class="n">filter</span><span class="p">(</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">  </span><span class="c1"># Filter the data according to which genotype is selected
</span><span class="w">	</span><span class="n">summarise</span><span class="p">(</span><span class="s2">"Mean"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w">  </span><span class="c1"># Create summary statistics and give them names
</span><span class="w">		  </span><span class="s2">"Median"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w">
  		  </span><span class="s2">"STDEV"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w"> 
      	          </span><span class="s2">"Min"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w">
       		  </span><span class="s2">"Max"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">yield</span><span class="p">)))</span><span class="w">             
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="displaying-output">Displaying output</h3>

<p>To make the outputs appear on your app in the <code class="highlighter-rouge">mainPanel</code>, <strong>they need to be added to the <code class="highlighter-rouge">ui</code> object inside <code class="highlighter-rouge">mainPanel()</code> like so</strong>:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> 
  </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
    </span><span class="n">titlePanel</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">h</span><span class="m">4</span><span class="p">(</span><span class="s2">"Barley Yield"</span><span class="p">,</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"center"</span><span class="p">))),</span><span class="w">
    </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">
      </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"right"</span><span class="p">,</span><span class="w">
      </span><span class="n">sidebarPanel</span><span class="p">(</span><span class="n">h</span><span class="m">3</span><span class="p">(</span><span class="s2">"Inputs for histogram"</span><span class="p">),</span><span class="w"> 
                   </span><span class="n">selectInput</span><span class="p">(</span><span class="s2">"genotype"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1. Select genotype"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"B"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"C"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="s2">"D"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="s2">"E"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="s2">"F"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="s2">"G"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"g"</span><span class="p">,</span><span class="s2">"H"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"h"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">),</span><span class="w">
                   </span><span class="n">br</span><span class="p">(),</span><span class="w">
                   </span><span class="n">selectInput</span><span class="p">(</span><span class="s2">"colour"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2. Select histogram colour"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="s2">"green"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"purple"</span><span class="p">,</span><span class="s2">"grey"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">),</span><span class="w">
                   </span><span class="n">br</span><span class="p">(),</span><span class="w">
                   </span><span class="n">sliderInput</span><span class="p">(</span><span class="s2">"bin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3. Select number of histogram bins"</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">)),</span><span class="w">
                   </span><span class="n">br</span><span class="p">()</span><span class="w">
                   </span><span class="p">),</span><span class="w">
                   </span><span class="n">mainPanel</span><span class="p">(</span><span class="w">
                             </span><span class="n">plotOutput</span><span class="p">(</span><span class="s2">"plot"</span><span class="p">),</span><span class="w">
                             </span><span class="n">tableOutput</span><span class="p">(</span><span class="s2">"table"</span><span class="p">)</span><span class="w">
                             </span><span class="p">)</span><span class="w">
      </span><span class="p">)</span><span class="w">
    </span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><strong>Take this chance to preview your app again by clicking <code class="highlighter-rouge">Run</code> in RStudio.</strong></p>

<h3 id="additional-elements">Additional elements</h3>

<h4 id="html">HTML</h4>

<p>To make your app look more pretty, you can add HTML tags like in a normal HTML webpage. Below is a table of basic HTML tags, their Shiny equivalent, and a description of what they do:</p>

<table>
  <thead>
    <tr>
      <th>HTML</th>
      <th style="text-align: center">Shiny</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">&lt;div&gt;</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">tags$div()</code></td>
      <td>Defines a block with consistent formatting</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;br&gt;</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">tags$br()</code></td>
      <td>Inserts a break</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;hr&gt;</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">tags$hr()</code></td>
      <td>Inserts a horizontal line</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;p&gt;</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">tags$p()</code></td>
      <td>Creates a paragraph of text</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;a&gt;</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">tags$a(href = "LINK", "displayed text")</code></td>
      <td>Creates a clickable link</td>
    </tr>
  </tbody>
</table>

<p>A list of all HTML tags can be found using:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">shiny</span><span class="o">::</span><span class="n">tags</span><span class="w">
</span></code></pre>
</div>

<p>Some tags may conflict with other functions and so you should always state the source the function comes from by using <code class="highlighter-rouge">tags$</code>, e.g.:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">tags</span><span class="o">$</span><span class="n">div</span><span class="p">()</span><span class="w">
</span></code></pre>
</div>

<p>Tags can be stacked to apply many arguments to the same object/text, just as in HTML:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">tags</span><span class="o">$</span><span class="n">div</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">"color:red"</span><span class="p">,</span><span class="w">
  </span><span class="n">tags</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="s2">"Visit us at:"</span><span class="p">),</span><span class="w">
  </span><span class="n">tags</span><span class="o">$</span><span class="n">a</span><span class="p">(</span><span class="n">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://ourcodingclub.github.io"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Coding Club"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>This creates a block of text that is coloured red (<code class="highlighter-rouge">style="color:red"</code>), within that block there is a paragraph of text (<code class="highlighter-rouge">tags$p("Visit us at?:")</code>) and a link (<code class="highlighter-rouge">tags$a(href = "http://ourcodingglub.github.io", "Coding Club")</code>).</p>

<p><strong>Add the code above to your Shiny app in <code class="highlighter-rouge">mainPanel()</code> and see what happens!</strong></p>

<p>For more information on the arguments that can be included in popular Shiny HTML tags, RStudio have a nice wiki at <a href="https://shiny.rstudio.com/articles/tag-glossary.html" target="_blank">https://shiny.rstudio.com/articles/tag-glossary.html</a>.</p>

<p><a name="export"></a></p>

<h3 id="exporting-a-finished-app">Exporting a finished app</h3>

<h4 id="as-a-github-repository">As a github repository</h4>

<p>It is easy to send a Shiny app to somebody else who also has RStudio. The easiest way is to send <code class="highlighter-rouge">app.R</code> alongside any data and other resources in a zip file to be unzipped by the recipient and run through R.</p>

<p>If you want to quickly share the app over the internet we recommend using <a href="http://www.github.com" target="_blank">Github</a> to host the file.</p>

<p>Go to <a href="http://www.github.com" target="_blank">Github</a>, sign in with your account details, create a repository and upload everything from your app folder, including any <code class="highlighter-rouge">Data</code> and <code class="highlighter-rouge">www</code> folders.</p>

<p>Remember to add a file called <code class="highlighter-rouge">README.md</code> using <code class="highlighter-rouge">Create new file</code> in your new app repository, where you can write a quick explanation of the content of your app. <code class="highlighter-rouge">.md</code> files can use markdown syntax to create headers, sections, links etc.. See our <a href="https://ourcodingclub.github.io/2016/11/24/rmarkdown-1.html" target="_blank">tutorial on markdown and reproducible research</a> for more markdown tips:</p>

<center> <img src="/img/github_create_new_file.jpg" alt="Img" style="width: 800px;" /> </center>

<p>To send the app to another person, give them your Github username and the name of the app repo and ask them to run <code class="highlighter-rouge">runGithub()</code> in R, like this:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">runGitHub</span><span class="p">(</span><span class="n">repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"repo_name"</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"user_name"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Alternatively, if your recipient doesn’t know how Github works, upload your app folder as a <code class="highlighter-rouge">.zip</code> file to Github or any other file-hosting service and they can use <code class="highlighter-rouge">runUrl()</code> if you give them the url of the zipfile:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">runUrl</span><span class="p">(</span><span class="s2">"https://github.com/rstudio/shiny_example/archive/master.zip"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>To learn more about Github, check out our <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank">tutorial on Git and Github</a>.</p>

<h4 id="as-a-shinyappsio-app">As a shinyapps.io app</h4>

<p>You can also host Shiny apps on <a href="https://www.shinyapps.io" target="_blank">www.shinyapps.io</a>, a webhosting platform run by R Studio that is especially built for Shiny apps. Go to their website and sign up using whatever method you choose, then go to <a href="https://www.shinyapps.io/admin/#/tokens" target="_blank">www.shinyapps.io/admin/#/tokens</a>, click <em>Show secret</em> and copy the <code class="highlighter-rouge">rsconnect</code> account info:</p>

<p><img src="/img/shinyapps_io_token.jpg" alt="Img" /></p>

<p>Then open up an R session and run the copied material to link <code class="highlighter-rouge">shinyapps.io</code> with R Studio.</p>

<p>To upload your app, open your <code class="highlighter-rouge">app.R</code> and click the publish button, select a name for your app (<strong>no spaces</strong>) and click <em>Publish</em>.</p>

<center> <img src="/img/rstudio_shiny_publish.jpg" alt="Img" style="width: 600px;" /> </center>

<p>The app can then be used by anyone with the URL for that app, which can be found by going to <code class="highlighter-rouge">shinyapps.io</code> and opening the app info from the dashboard:</p>

<center> <img src="/img/shinyapps_io_dash.jpg" alt="Img" style="width: 700px;" /> </center>

<p>To embed an app that is hosted by <code class="highlighter-rouge">shinyapps.io</code> in your own website you can put it in an <code class="highlighter-rouge">iframe</code>, replacing the URL with your own app URL and altering the style arguments to your own desire:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"https://johngodlee.shinyapps.io/barley_yield_exploration/"</span> <span class="na">style=</span><span class="s">"border:none;width:1000px;height:500px;"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre>
</div>

<p><a name="challenge"></a></p>

<h3 id="challenge-yourself-to-emulate-a-shiny-app">Challenge yourself to emulate a Shiny app</h3>

<p>Now that you have the skills to create a Shiny app, try to re-create one of the apps in the links below, then publish it to your <code class="highlighter-rouge">shinyapps.io</code> profile. The data for these apps, as well as the code for the apps in case you get stuck, can be found in <a href="https://github.com/ourcodingclub/CC-11-Shiny" target="_blank">the repository for this tutorial</a> in the <code class="highlighter-rouge">Challenge Apps</code> folder.</p>

<ul>
  <li><a href="https://johngodlee.shinyapps.io/LPI_example/" target="_blank">An app investigating the spatial distribution of records used to create the Living Planet Index</a> <em>Hint: You will need to use <code class="highlighter-rouge">verticalLayout()</code> for this one.</em></li>
</ul>
<iframe src="https://johngodlee.shinyapps.io/LPI_example/" style="border:none;width:1000px;height:700px;"></iframe>

<ul>
  <li><a href="https://johngodlee.shinyapps.io/seedling_traits_example/" target="_blank">An app investigating how plant traits vary across an elevational gradient in the Andes</a></li>
</ul>
<iframe src="https://johngodlee.shinyapps.io/seedling_traits_example/" style="border:none;width:1000px;height:500px;"></iframe>

<hr />

<hr />

<h4 id="check-out-our-useful-links-page-where-you-can-find-loads-of-guides-and-cheatsheets">Check out our <a href="https://ourcodingclub.github.io/links/" target="_blank">Useful links</a> page where you can find loads of guides and cheatsheets.</h4>

<h4 id="if-you-have-any-questions-about-completing-this-tutorial-please-contact-us-on-ourcodingclubgmailcom">If you have any questions about completing this tutorial, please contact us on ourcodingclub@gmail.com</h4>

<h4 id="we-would-love-to-hear-your-feedback-on-the-tutorial-whether-you-did-it-in-the-classroom-or-online"><a href="https://www.surveymonkey.co.uk/r/PC9RT6R" target="_blank">We would love to hear your feedback on the tutorial, whether you did it in the classroom or online!</a></h4>

<ul class="social-icons">
	<li>
		<h3>
			<a href="https://twitter.com/our_codingclub" target="_blank">&nbsp;Follow our coding adventures on Twitter! <i class="fa fa-twitter"></i></a>
		</h3>
	</li>
</ul>

<h3 id="subscribe-to-our-mailing-list">  Subscribe to our mailing list:</h3>
<div class="container">
	<div class="block">
        <!-- subscribe form start -->
		<div class="form-group">
			<form action="https://getsimpleform.com/messages?form_api_token=de1ba2f2f947822946fb6e835437ec78" method="post">
			<div class="form-group">
				<input type="text" class="form-control" name="Email" placeholder="Email" required="" />
			</div>
			<div>
                        	<button class="btn btn-default" type="submit">Subscribe</button>
                    	</div>
                	</form>
		</div>
	</div>
</div>
</p>
          </div>
        </div><!-- .col-md-7 close -->
      </div>
    </div>
  </section>
</div>
<p class="center-text" style="padding: 30px;">
  <a href="/blog">Back to blog</a>
</p>











    <!-- footer Start -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="footer-manu">
          <ul>
            <li><a href="/consortium">About Us</a></li>
        <!--    <li><a href="/contact">Contact us</a></li>-->
          </ul>
        </div>
        <p>Content by <a href="/about/">..</a>.</p>
        <p>Copyright &copy; Design &amp; Developed by <a href="http://www.themefisher.com">Themefisher</a>. All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>

    

    </body>
</html>

